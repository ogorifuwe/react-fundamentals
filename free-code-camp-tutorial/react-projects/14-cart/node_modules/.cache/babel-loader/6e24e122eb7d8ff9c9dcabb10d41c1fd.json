{"ast":null,"code":"const reducer = (state, action) => {\n  switch (action.type) {\n    case 'CLEAR_CART':\n      return { ...state,\n        cart: []\n      };\n\n    case 'REMOVE_CART_ITEM':\n      return { ...state,\n        cart: state.cart.filter(item => item.id !== action.payload)\n      };\n\n    case 'INCREASE_ITEM_COUNT':\n      return { ...state,\n        cart: state.cart.map(item => {\n          if (item.id === action.payload) {\n            return { ...item,\n              amount: item.amount + 1\n            };\n          }\n\n          return item;\n        })\n      };\n\n    case 'DECREASE_ITEM_COUNT':\n      return { ...state,\n        cart: state.cart.map(item => {\n          if (item.id === action.payload) {\n            return { ...item,\n              amount: item.amount - 1\n            };\n          }\n\n          return item;\n        }).filter(item => item.amount > 0)\n      };\n\n    case 'GET_TOTAL':\n      let {\n        total,\n        amount\n      } = state.cart.reduce((currCartObject, item) => {\n        const {\n          price,\n          amount\n        } = item;\n        const currCartTotal = amount * price;\n        currCartObject.total += currCartTotal;\n        currCartObject.amount += amount;\n        return currCartObject;\n      }, {\n        total: 0,\n        amount: 0\n      });\n      total = parseFloat(total.toFixed(2));\n      return { ...state,\n        total,\n        amount\n      };\n\n    case 'LOADING':\n      return { ...state,\n        isLoading: true\n      };\n\n    case 'DISPLAY_ITEMS':\n      return { ...state,\n        cart: action.payload,\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/oi/Development/client-side/react/free-code-camp-tutorial/react-projects/14-cart/setup/src/reducer.js"],"names":["reducer","state","action","type","cart","filter","item","id","payload","map","amount","total","reduce","currCartObject","price","currCartTotal","parseFloat","toFixed","isLoading"],"mappings":"AAAA,MAAMA,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,UAAOA,MAAM,CAACC,IAAd;AACE,SAAK,YAAL;AACE,aAAO,EACL,GAAGF,KADE;AACKG,QAAAA,IAAI,EAAE;AADX,OAAP;;AAIF,SAAK,kBAAL;AACE,aAAO,EACL,GAAGH,KADE;AACKG,QAAAA,IAAI,EAAEH,KAAK,CAACG,IAAN,CAAWC,MAAX,CAAkBC,IAAI,IAAKA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAA9C;AADX,OAAP;;AAIF,SAAK,qBAAL;AACE,aAAO,EACL,GAAGP,KADE;AACKG,QAAAA,IAAI,EAAEH,KAAK,CAACG,IAAN,CAAWK,GAAX,CAAeH,IAAI,IAAI;AACrC,cAAIA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAvB,EAAgC;AAC9B,mBAAO,EAAE,GAAGF,IAAL;AAAWI,cAAAA,MAAM,EAAEJ,IAAI,CAACI,MAAL,GAAc;AAAjC,aAAP;AACD;;AACD,iBAAOJ,IAAP;AACD,SALe;AADX,OAAP;;AASF,SAAK,qBAAL;AACE,aAAO,EACL,GAAGL,KADE;AACKG,QAAAA,IAAI,EAAEH,KAAK,CAACG,IAAN,CAAWK,GAAX,CAAeH,IAAI,IAAI;AACrC,cAAIA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAvB,EAAgC;AAC9B,mBAAO,EAAE,GAAGF,IAAL;AAAWI,cAAAA,MAAM,EAAEJ,IAAI,CAACI,MAAL,GAAc;AAAjC,aAAP;AACD;;AACD,iBAAOJ,IAAP;AACD,SALe,EAKbD,MALa,CAKNC,IAAI,IAAIA,IAAI,CAACI,MAAL,GAAc,CALhB;AADX,OAAP;;AASF,SAAK,WAAL;AACE,UAAI;AAAEC,QAAAA,KAAF;AAASD,QAAAA;AAAT,UAAoBT,KAAK,CAACG,IAAN,CAAWQ,MAAX,CAAkB,CAACC,cAAD,EAAiBP,IAAjB,KAA0B;AAClE,cAAM;AAAEQ,UAAAA,KAAF;AAASJ,UAAAA;AAAT,YAAoBJ,IAA1B;AACA,cAAMS,aAAa,GAAGL,MAAM,GAAGI,KAA/B;AAEAD,QAAAA,cAAc,CAACF,KAAf,IAAwBI,aAAxB;AACAF,QAAAA,cAAc,CAACH,MAAf,IAAyBA,MAAzB;AAEA,eAAOG,cAAP;AACD,OARuB,EAQrB;AAAEF,QAAAA,KAAK,EAAE,CAAT;AAAYD,QAAAA,MAAM,EAAE;AAApB,OARqB,CAAxB;AAUAC,MAAAA,KAAK,GAAGK,UAAU,CAACL,KAAK,CAACM,OAAN,CAAc,CAAd,CAAD,CAAlB;AACA,aAAO,EAAE,GAAGhB,KAAL;AAAYU,QAAAA,KAAZ;AAAmBD,QAAAA;AAAnB,OAAP;;AAEF,SAAK,SAAL;AACE,aAAO,EAAE,GAAGT,KAAL;AAAYiB,QAAAA,SAAS,EAAE;AAAvB,OAAP;;AAEF,SAAK,eAAL;AACE,aAAO,EACL,GAAGjB,KADE;AACKG,QAAAA,IAAI,EAAEF,MAAM,CAACM,OADlB;AAC2BU,QAAAA,SAAS,EAAE;AADtC,OAAP;;AAIF;AACE,aAAOjB,KAAP;AAtDJ;AAwDD,CAzDD;;AA2DA,eAAeD,OAAf","sourcesContent":["const reducer = (state, action) => {\n  switch(action.type) {\n    case 'CLEAR_CART':\n      return {\n        ...state, cart: []\n      }\n\n    case 'REMOVE_CART_ITEM':\n      return {\n        ...state, cart: state.cart.filter(item => (item.id !== action.payload))\n      }\n\n    case 'INCREASE_ITEM_COUNT':\n      return {\n        ...state, cart: state.cart.map(item => {\n          if (item.id === action.payload) {\n            return { ...item, amount: item.amount + 1 }\n          }\n          return item;\n        })\n      }\n\n    case 'DECREASE_ITEM_COUNT':\n      return {\n        ...state, cart: state.cart.map(item => {\n          if (item.id === action.payload) {\n            return { ...item, amount: item.amount - 1 }\n          }\n          return item;\n        }).filter(item => item.amount > 0)\n      }\n\n    case 'GET_TOTAL':\n      let { total, amount } = state.cart.reduce((currCartObject, item) => {\n        const { price, amount } = item;\n        const currCartTotal = amount * price;\n\n        currCartObject.total += currCartTotal;\n        currCartObject.amount += amount;\n\n        return currCartObject;\n      }, { total: 0, amount: 0 })\n\n      total = parseFloat(total.toFixed(2));\n      return { ...state, total, amount }\n\n    case 'LOADING':\n      return { ...state, isLoading: true }\n\n    case 'DISPLAY_ITEMS':\n      return {\n        ...state, cart: action.payload, isLoading: false\n      }\n\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}